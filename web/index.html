<!DOCTYPE html>
<html>
	<head>
		<title>Street Commerce</title>
		<!-- for-mobile-apps -->
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="keywords" content="Smart Shop Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template,
		Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
		
		<script type="application/x-javascript">
			addEventListener("load", function() {
				setTimeout(hideURLbar, 0);
			}, false);
			function hideURLbar() {
				window.scrollTo(0, 1);
			}
		</script>
		<!-- //CSS -->
		<link rel="stylesheet" href="css/custom.css" />
		<link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all" />
		<link href="assets/css/font-awesome.css" rel="stylesheet" type="text/css" media="all">
		<link href="css/bootstrap-social.css" rel="stylesheet" type="text/css" media="all"/>
		<link href="css/jquery.bxslider.css" rel="stylesheet" type="text/css" media="all"/>
		<link href="css/flexslider.css" rel="stylesheet" type="text/css" media="all"/>
		<link href="css/style.less" rel="stylesheet/less" type="text/css" media="all" />
		
		<!-- //End CSS -->
		<!-- cart -->
		<script src="js/simpleCart.js"></script>
		<!-- cart -->
		
		<!-- js -->
		<script type="text/javascript" src="js/jquery-2.1.4.min.js"></script>
		<script type="text/javascript" src="js/bootstrap-3.1.1.min.js"></script>
		<script type="text/javascript" src="js/jquery.flexslider.js"></script>
		<!--script type="text/javascript" src="js/imagezoom.js"></script-->
		<script src="js/jquery.easing.min.js"></script>
		<script type="text/javascript" src="js/jsFunctions.js"></script>
		<script type="text/javascript" src="js/modal.js"></script>
		<script type="text/javascript" src="js/jquery.bxslider.js"></script>
		<script type="text/javascript" src="js/less.js"></script>
		<script type="text/javascript" src="js/store.js"></script>
		<!-- //js -->
		
		<script type="text/javascript">
			
			$(document).ready(function() {
				jQuery('.tabs .tab-links a').on('click', function(e)  {
					var currentAttrValue = jQuery(this).attr('href');
					// Show/Hide Tabs
					jQuery('.tabs ' + currentAttrValue).show().siblings().hide();
					// Change/remove current tab to active
					jQuery(this).parent('li').addClass('active').siblings().removeClass('active');
 
					e.preventDefault();
				});
				
			 	simpleCart({
					cartColumns: [
						{ attr: "id", label: "ID"},
						{ attr: "name", label: "Nombre Producto"},
						{ view: "currency", attr: "price", label: "Precio"},
						//{ view: "decrement", label: "Menos"},
						{ attr: "quantity", label: "Cantidad"},
						//{ view: "increment", label: "Más"},
						{ view: "currency", attr: "total", label: "SubTotal" },
						{ view: "remove", text: "Eliminar", label: ""}
					],
					checkout: {
						type: "PayPal",
						email: "you@yours.com"
					},
					cartStyle: "table"
				});
				setRuta('');
				var idTienda = getIdTienda();
				loadTheme(idTienda);
				loadDatosTienda(idTienda);
				obtenSlidersStore(idTienda);
				obtenLogotipoStore(idTienda);
				buildSocialStore(idTienda);
				buildMenuList(idTienda);
				sliderInit();

			});
			
			function sliderInit() {
				$('.bxslider').bxSlider({
					auto : true,
					adaptiveHeight : true,
					autoControls : true
				});
			}

		</script>
	</head>
	<body>
		<!--header>
		<div class="header">
			<div class="container">
				<ul>
					<li>
						<span class="glyphicon glyphicon-phone-alt" aria-hidden="true"></span><span id="telefonoTienda"></span>
					</li>
					<li>
						<span class="glyphicon glyphicon-phone" aria-hidden="true"></span><span id="celularTienda"></span>
					</li>
					<li>
						<span class="glyphicon glyphicon-envelope" aria-hidden="true"></span><span id="correoTienda"></span>
					</li>
				</ul>
			</div>
		</div> 
		</header-->
		<!-- Modal -->
<div class="modal modal-fullscreen fade in" id="modalCart" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="overflow-y: scroll!important;">
  <div class="modal-dialog" role="document">
    <div class="modal-content bodyModal">
      <div class="modal-header panelHeadCustom">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Carrito</h4>
      </div>
      <div class="modal-body">
	  <div class="container">
<div class="tabs">
    <ul class="nav nav-tabs tab-links">
        <li id="productos" class="active"><a href="#products">Productos</a></li>
        <li id="acceso" ><a href="#access">Acceso</a></li>
        <li id="envio" onclick="obtenerDireccionesBtn()"><a href="#address">Envío</a></li>
        <li id="pago"><a href="#payment">Pago</a></li>
    </ul>
 
    <div class="tab-content">
        <div id="products" class="tab active">
            <div class="simpleCart_items"></div>
				<div class="separator"></div>
					<div class="col-xs-12">
						<button type="button" class="btn btn-info pull-right" onclick="switchPill('.tabs','productos','acceso','access')">Continuar>></button>
						<button type="button" class="btn btn-default pull-right" data-dismiss="modal">Cerrar</button>
					</div>
        </div>
 
        <div id="access" class="tab">
			<div class="separator"></div>
	<label class="radio-inline"><input type="radio" name="optradio" value="session" checked="checked" onclick="acceso()">Iniciar Sessión</label>
<label class="radio-inline"><input type="radio" name="optradio" value="registro" onclick="acceso()">Registrarse</label>
    
	<div id="sessionDiv">
	<div class="separator"></div>
	<div class="alert alert-danger" style="display: none" id="alertDiv">
								<strong>Precaución!</strong> Existen campos que son
								obligatorios!!!
							</div>
		<div class="col-xs-12">
			<span style="color:red">*</span>
			<label for="inputEmail3" id="usuarioLabel" name="usuarioLabel">Usuario</label>
			<input type="text" class="form-control" id="usuario" name="usuario"
				placeholder="Usuario" maxlength="80" />
		</div>
		<div class="col-xs-12">
			<span style="color:red">*</span>
			<label for="inputEmail3" id="contraseniaLabel" name="contraseniaLabel">Contraseña</label>
			<input type="password" class="form-control" id="contrasenia" name="contrasenia"
				placeholder="Contraseña" maxlength="50" />
		</div>
		<div class="separator"></div>
		<div class="col-xs-12">
			<button type="button" onclick="loginUserBtn()" class="btn btn-success pull-right" data-backdrop="static">Aceptar</button>
			<button type="button" onclick="" class="btn btn-danger pull-right" data-dismiss="modal">Cancelar</button>
		</div>
	</div>
	
	 <div id="registroDiv" style="display: none">
	 <div class="separator"></div>
		<div class="alert alert-danger" style="display: none" id="alertDivRegistro">
								<strong>Precaución!</strong> Existen campos que son
								obligatorios!!!
							</div>
							<label id="usuarioRegistroLabel" name="usuarioRegistroLabel">Usuario:</label>
							<input
							type="text" class="form-control" id="usuarioRegistro"
							name="usuarioRegistro" placeholder="Usuario"
							maxlength="80">
							<label id="passwordRegistroLabel" name="passwordLabel">Password:</label>
							<input
							type="password" class="form-control" id="passwordRegistro"
							name="passwordRegistro" placeholder="Password"
							maxlength="120">
							<label id="confPasswordLabel" name="confPasswordLabel">Confirmar Password:</label>
							<input
							type="password" class="form-control" id="confPassword"
							name="confPassword" placeholder="Password"
							maxlength="120">
							<div class="separator"></div>
							<div class="panel-group">
								<div class="panel panel-default bodyModal">
									<div class="panel-heading">
										<h4 class="panel-title">
											<a data-toggle="collapse" href="#collapse0">Datos Usuario</a>
										</h4>
									</div>
									<div id="collapse0" class="panel-collapse collapse">
										<div class="panel-body bodyModal">
										<label id="nombreLabel" name="nombreLabel">Nombre:</label>
							<input
							type="text" class="form-control" id="nombre"
							name="nombre" placeholder="Nombre"
							maxlength="80">
							<label id="paternoLabel" name="paternoLabel">Paterno:</label>
							<input
							type="text" class="form-control" id="paterno"
							name="paterno" placeholder="Paterno"
							maxlength="120">
							<label>Materno:</label>
							<input
							type="text" class="form-control" id="materno"
							name="materno" placeholder="Materno"
							maxlength="120">
							<label id="correoLabel" name="correoLabel">Correo:</label>
							<input
							type="text" class="form-control" id="correo"
							name="correo" placeholder="Correo"
							maxlength="80">
							</div>
									</div>
								</div>
							</div>
							<div class="separator"></div>
							<div class="panel-group">
								<div class="panel panel-default bodyModal">
									<div class="panel-heading">
										<h4 class="panel-title">
											<a data-toggle="collapse" href="#collapse1">Dirección</a>
										</h4>
									</div>
									<div id="collapse1" class="panel-collapse collapse">
										<div class="panel-body bodyModal"><label>Teléfono:</label>
							<input
							type="text" class="form-control" id="telefonoDir"
							name="telefonoDir" placeholder="Teléfono"
							maxlength="15" onkeypress="return numbersonly(event)">
							<div class="rowDiv col-xs-12">
								<label for="inputEmail3">
									<input id="whatsappDir" name="whatsappDir" type="checkbox">
									Whatsapp</label>
							</div>
							<label id="calleDirLabel" name="calleDirLabel">Calle:</label>
							<input
							type="text" class="form-control" id="calleDir"
							name="calleDir" placeholder="Calle"
							maxlength="150">
							<label id="calleDirLabel" name="cpDirLabel">C.P:</label>
							<input
							type="text" class="form-control" id="cpDir"
							name="cpDir" placeholder="C.P"
							maxlength="5" onkeypress="return numbersonly(event)">
							<label id="coloniaDirLabel" name="coloniaDirLabel">Colonia:</label>
							<input
							type="text" class="form-control" id="coloniaDir"
							name="coloniaDir" placeholder="Colonia"
							maxlength="120">
							<label id="delegacionDirLabel" name="delegacionDirLabel">Delegacion:</label>
							<input
							type="text" class="form-control" id="delegacionDir"
							name="delegacionDir" placeholder="Delegacion"
							maxlength="120">
							<label id="entidadDirLabel" name="entidadDirLabel">Entidad:</label>
							<input
							type="text" class="form-control" id="entidadDir"
							name="entidadDir" placeholder="Entidad"
							maxlength="100">
							</div>
							</div>
								</div>
							</div>
							<div class="col-xs-12">
			<button type="button" onclick="registroClienteBtn()" class="btn btn-success pull-right" data-backdrop="static">Aceptar</button>
			<button type="button" onclick="" class="btn btn-danger pull-right" data-dismiss="modal">Cancelar</button>
		</div>
							
	</div>


		</div>
 
        <div id="address" class="tab">
			<div class="separator"></div>
		<label class="radio-inline"><input type="radio" name="optradioEnvio" value="session" checked="checked" onclick="acceso()">Envío</label>
		<div class="separator"></div>
		<div class="panel panel-default bodyModal">
		<div class="panel-heading">
          <a data-toggle="collapse" href="#direccionAdd"><img src="images/plus.png" style="width:25px;height:35px">Agregar Dirección:</a>
	  </div>
	  <div id="direccionAdd" class="panel-collapse collapse">
	  <div class="alert alert-danger" style="display: none"
								id="alertDivDireccion">
								<strong>Precaución!</strong> Existen campos que son
								obligatorios!!!
							</div>
        <div class="panel-body bodyModal">
		<table style="width:100%">
			<tr><td class="td20"><span style="color: red">*</span><label id="aliasAddLabel" name="aliasAddLabel">Alias:</label></td><td class="td80"><input type="text" class="form-control" id="aliasAdd" name="aliasAdd" maxlength="50"></td></tr>
			<tr><td class="td20"><span style="color: red">*</span><label id="calleAddLabel" name="calleAddLabel">Calle:</td><td class="td80"><input type="text" class="form-control" id="calleAdd" name="calleAdd" maxlength="200"></td></tr>	
			<tr><td class="td20"><span style="color: red">*</span><label id="cpAddLabel" name="cpAddLabel">C.P:</td><td class="td80"><input type="text" class="form-control" id="cpAdd" name="cpAdd" maxlength="5" onkeypress="return numbersonly(event)"></td></tr>
			<tr><td class="td20"><span style="color: red">*</span><label id="coloniaAddLabel" name="coloniaAddLabel">Colonia:</td><td class="td80"><input type="text" class="form-control" id="coloniaAdd" name="coloniaAdd" maxlength="150"></td></tr>
			<tr><td class="td20"><span style="color: red">*</span><label id="delegacionAddLabel" name="delegacionAddLabel">Delegación/<br/>Municipio:</td><td class="td80"><input type="text" class="form-control" id="delegacionAdd" name="delegacionAdd" maxlength="200"></td></tr>
			<tr><td class="td20"><span style="color: red">*</span><label id="entidadAddLabel" name="entidadAddLabel">Entidad:</td><td class="td80"><input type="text" class="form-control" id="entidadAdd"  name="entidadAdd" maxlength="150"></td></tr>
		</table>
		<div class="col-xs-12">
			<button type="button" onclick="agregarNuevaDireccionBtn()" class="btn btn-success pull-right" data-backdrop="static">Agregar</button>
			<button type="button" onclick="clean('aliasAdd,cpAdd,calleAdd,coloniaAdd,delegacionAdd,entidadAdd')" class="btn btn-info pull-right" data-backdrop="static">Limpiar</button>
		</div>
		</div>
      </div>
	  <div id="divDirecciones">
		</div>
	   </div>
		<label class="radio-inline"><input type="radio" name="optradioEnvio" value="registro" onclick="acceso()">Recoger con Vendedor</label>
        </div>
 
        <div id="payment" class="tab">
            	  <div class="separator"></div>
	<label class="radio-inline"><input type="radio" name="optradioPago" value="paypal" checked>PayPal</label>
	<label class="radio-inline"><input type="radio" name="optradioPago" value="ordenar">Ordenar</label>
	 <div class="col-xs-12">
			<button type="button" onclick="registrarPrecompra()" class="btn btn-success pull-right" data-backdrop="static">Pagar</button>
			<button type="button" onclick="cancelarCompra()" class="btn btn-danger pull-right" data-dismiss="modal">Cancelar</button>
		</div>

        </div>
    </div>
</div>	
</div>
	</div>  
		
      <!--div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div-->
    </div>
  </div>
</div>
		<!-- Modal fullscreen -->
		<div class="modal modal-fullscreen fade in" id="modal-fullscreen" role="dialog" style="overflow-y: scroll!important;">
			<div class="modal-dialog">
				<div class="modal-content bodyModal">
					<div class="panelHeadCustom">
						<button type="button" class="close" data-dismiss="modal">
							&times;
						</button>
						<h4 class="modal-title">Producto</h4>
					</div>
					<div class="modal-body">
						<div id="modalBody" name="modalBody" class="single">
							
						</div>
					</div>
					<nav style="margin-left: auto;margin-right: auto">
						<ul id="paginator" class="pagination" style="float:right">
						
						</ul>
					<div class="modal-footer">
						<button type="button" class="btn btn-danger" data-dismiss="modal">
							Cerrar
						</button>
					</div>
				</div>
			</div>
		</div>		
		<!-- header-bot -->
		<div class="header-bot">
			<div class="container">

				<div class="col-md-3 header-left">
					<h1><a href="index.html"><div id="logoTienda" name="logoTienda" style="border:2px solid red"></div></h1>
				</div>
				<div class="col-md-3 header-right">

					<ul id="UlSocial" name="UlSocial">

					</ul>
				</div>
				<div class="clearfix"></div>
			</div>
		</div>
		<!-- //header-bot -->
		<!-- banner -->
		<div class="ban-top">
			<div class="container">
				<div class="top_nav_left">
					<nav class="navbar navbar-default">
						<div class="container-fluid">
							<!-- Brand and toggle get grouped for better mobile display -->
							<div class="navbar-header">
								<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
									<span class="sr-only">Toggle navigation</span>
									<span class="icon-bar"></span>
									<span class="icon-bar"></span>
									<span class="icon-bar"></span>
								</button>
							</div>
							<!-- Collect the nav links, forms, and other content for toggling -->
							<div class="collapse navbar-collapse menu--shylock" id="bs-example-navbar-collapse-1">
								<ul class="nav navbar-nav menu__list" id="menuList" name="menuList">
									<li id="inicio" name="inicio" class="active menu__item menu__item--current">
										<a class="menu__link" href="index.html">Home <span class="sr-only">(current)</span></a>
									</li>
									<li class=" menu__item">
										<a class="menu__link" href="contact.html">Contacto</a>
									</li>
								</ul>
							</div>
						</div>
					</nav>
				</div>
					<div class="top_nav_right">
			<div class="cart box_1">
						<a href="#">
							<h3> <div class="total">
								<i class="glyphicon glyphicon-shopping-cart" aria-hidden="true" onclick="openModalCart()"></i>
								<span class="simpleCart_total"></span> (<span id="simpleCart_quantity" class="simpleCart_quantity"></span> productos)</div>
								
							</h3>
						</a>
						<p><a href="javascript:;" class="simpleCart_empty">Vaciar Carrito</a></p>						
			</div>	
		</div>
		<div class="clearfix"></div>
			</div>
		</div>
		<!-- //banner-top -->
		<!-- banner -->
		<div style="width: 80%;height: 80%; margin-right: auto; margin-left: auto;">
			<ul id="slidersTienda" class="bxslider">

			</ul>
		</div>
		<!-- product-nav -->
		<div class="product-easy">
			<div class="container">
				<script src="js/easyResponsiveTabs.js" type="text/javascript"></script>
				<script type="text/javascript">
					$(document).ready(function() {
						setRuta('');
						var idTienda = getIdTienda();
						var categories = ["Nuevos", "Destacados", "Ofertas"];
						var attrs = ["Id", "Nombre", "Precio", "Descuento", "Imagen", "IdCategoria", "IdProducto"];
						var stickers = ["New","Top","Ofer"];
						buildCategory(categories);
						var jsonS=getProducts(idTienda);
						buildPrincipals(idTienda,jsonS,categories,stickers,attrs,0,0,false);
						initGallery();
					});
					function openModalCart(){
					    accederCuenta();
						$('#modalCart').modal('show');
						
					}
					
					function acceso(){
					var selectedOption = $("input:radio[name=optradio]:checked").val();
						if(selectedOption=="registro"){
							hideDiv('sessionDiv',false);
							hideDiv('registroDiv',true);
						}else{
							hideDiv('sessionDiv',true);
							hideDiv('registroDiv',false);
						}	
					}
					
					function accederCuenta(){
						var sessionId=getVariableSession('IDSESSION');
						initPills('productos','products','acceso,envio,pago');
						if(isEmpty(sessionId)){
							hideDivMultiple('envio,pago',false);	
							hideDivMultiple('productos,acceso',true);	
						}else{
							hideDivMultiple('acceso',false);
							hideDivMultiple('envio,pago',true);								
						}
					}
					
					function loginUserBtn(){
						if (validateRequiredFields('usuario,contrasenia')) {
							cleanAlertDiv();
							waitingDialog.show('Accediendo Cliente...');
							setTimeout(function() {
								loginUser('usuario','contrasenia');
							}, 1000);
						}
					}
					
					function loginUser(usuario,contrasenia){
						var idusuario=$('#'+usuario).val();
						var password=$('#'+contrasenia).val();
						var params = {
						operation : 'getSession',
						idusuario: idusuario,
						password:  password
						};
						var myJSONText = JSON.stringify(params);
						var jsonS = execAjax(myJSONText, "POST", "json", "phpControllers/sessionController.php");
						if(jsonS["ESTATUS"] == '0'){
							hideDiv('acceso',false);
							hideDivMultiple('envio,pago',true)						
							switchPill('.tabs','acceso','envio','address');
							obtenerDirecciones();
						}else{
							modal('Aviso',jsonS["MSG"]);
						}
					}
					
					function registroClienteBtn(){
						if (validateRequiredFields('usuarioRegistro,passwordRegistro,confPassword,nombre,paterno,correo,cpDir,coloniaDir,entidadDir,delegacionDir,calleDir','alertDivRegistro')) {
							cleanAlertDiv('alertDivRegistro');
							waitingDialog.show('Registrando Cliente...');
							setTimeout(function() {
								data=validarCliente($('#correo').val());
								if( data[0]["ID"]!= -1){
									registrarCliente();
								}else{
									messageAlertDiv('alertDivRegistro',data[0]["MSG"]);
								}
							}, 1000);
						}
					}
					
					function validarCliente(correo){
						var params = {
							operation : 'validarCliente',
							tableName : 'clientes',
							columnNames : ' count(*) as Cuenta', 
							where       :' Correo=\''+correo+'\''													
						};
						var myJSONText = JSON.stringify(params);
						var data = execAjax(myJSONText, "POST", "json", "classControllers/ClientController.php");
						if(data.length > 0){
							if(data[0]['Cuenta'] > 0){
								data[0]["MSG"]="Cliente ya registrado, cambie correo!!!"
								data[0]["ID"] = -1;
							}else{
								data[0]["ID"] = 1;
								
							}
						}
						return data;
					}
					
					function registrarCliente(){
						var params = {
							idUsuario           : $('#usuarioRegistro').val(),
							operation           : 'registrarCliente',
							tableNameUsuario    : 'usuarios',
							paramNamesUsuario   : 'NombreUsuario,Password,AliasUsuario,ActivoSN,IdRol',
							valuesUsuario       : obtenCamposClienteUsuario(),
							tableName           : 'clientes',
							paramNames          : 'IdCliente,IdTienda,Nombre,Paterno,Materno,Correo,Telefono,Whatsapp,CP,Colonia,Entidad,Delegacion,Calle',
							values              : getIdTienda()+","+obtenCamposCliente(),
							tableNameDireccion  : 'direcciones' ,
							paramNamesDireccion : 'IdCliente,IdTienda,Alias,Telefono,Whatsapp,CP,Colonia,Entidad,Delegacion,Calle',
							valuesDireccion     : getIdTienda()+",'Principal',"+obtenCamposDireccion('Dir')
						};
						var myJSONText = JSON.stringify(params);
						var data = execAjax(myJSONText, "POST", "json", "classControllers/ClientController.php");
						if (data["ESTATUS"] == '0') {
							loginUser('usuarioRegistro','passwordRegistro');
							modal('Mensaje', data["MSG"]);
							clean('usuarioRegistro,passwordRegistro,nombre,paterno,materno,telefonoDir,whatsappDir,correoDir,cpDir,coloniaDir,entidadDir,delegacionDir,calleDir');
							sessionId=data['SESSION']['IDSESSION'];
							usuarioSign=data['SESSION']['IDUSER'];
							hideDiv('acceso',false);
							hideDivMultiple('envio,pago',true)
							switchPill('.tabs','acceso','envio','address');
							obtenerDirecciones();
						} else {
							modal('Mensaje', data["MSG"]);
						}
					}
					
					function obtenCamposClienteUsuario() {
						var usuario = '\'' + $('#usuarioRegistro').val() + '\'';
						var password = '\'' + $('#passwordRegistro').val() + '\'';
						var aliasUsuario = '\'' + defaultValue($('#nombre').val(), '') + '\'';
						var activoSN = '\'0\'';
						var idRol = '\'0\'';
						var campos = '(' + usuario + ',' + password + ',' + aliasUsuario +','+ activoSN +','+ idRol +')';
						return campos;
					}
					
					function obtenCamposCliente() {
						var nombre = '\'' + $('#nombre').val() + '\'';
						var apPaterno = '\'' + $('#paterno').val() + '\'';
						var apMaterno = '\'' + defaultValue($('#materno').val(), '') + '\'';
						var correo = '\'' + $('#correo').val() + '\'';
						//var numero = '\''+defaultValue($('#numero').val(), '')+'\'';
						var campos = nombre + ',' + apPaterno + ',' + apMaterno + ','+ correo + ','+ obtenCamposDireccion('Dir');
						return campos;
					}
					
					function obtenCamposDireccion(prefix){
						var telefono = '\'' + defaultValue($('#telefono'+prefix).val(), '') + '\'';
						var whatsapp = '\'' + checkedC('whatsapp'+prefix) + '\'';
						var cp = '\'' + defaultValue($('#cp'+prefix).val(), '') + '\'';
						var colonia = '\'' + defaultValue($('#colonia'+prefix).val(), '') + '\'';
						var entidad = '\'' + defaultValue($('#entidad'+prefix).val(), '') + '\'';
						var delegacion = '\'' + defaultValue($('#delegacion'+prefix).val(), '') + '\'';
						var calle = '\'' + defaultValue($('#calle'+prefix).val(), '') + '\'';	
						var campos =  telefono + ',' + whatsapp + ',' + cp + ',' + colonia + ',' + entidad + ',' + delegacion+ ',' + calle;
						return campos;
					}
					
					function registrarPrecompra(){
						
						//simpleCart.checkout();
					}
					
					function registroCompra(){
						var registrado=false;
						var params = {
							operations : [{
							operation : 'insertar',
							tableName : 'ComprasCliente',
							paramNames : 'IdCliente,IdProducto,Cantidad',
							values : obtenCamposCliente()
						}]
					};
					var myJSONText = JSON.stringify(params);
					var data = execAjax(myJSONText, "POST", "json", "phpControllers/dbController.php");
					if (data["ESTATUS"] == '0') {
						registrado=true;						
					}
						return registrado;	
					}
					
					function setVariableSession(varName,varValue){
						var params = {
							operation : 'setVariableSession',
							varName   : varName,
							varValue  : varValue
							
						};
						var setted=false;
						var myJSONText = JSON.stringify(params);
						var data = execAjax(myJSONText, "POST", "json", "phpControllers/sessionController.php");
						if(data["ESTATUS"]=='0'){
							setted=true;
						}
						return setted;
					}
					
					function getVariableSession(varName){
						var params = {
							operation : 'getVariableSession',
							varName   : varName				
						};
						varValue="";
						var myJSONText = JSON.stringify(params);
						var data = execAjax(myJSONText, "POST", "json", "phpControllers/sessionController.php");
						if(data["ESTATUS"]=='0'){
							varValue=data[varName];
						}
						return varValue;
					}
					
					function obtenerDireccionesBtn(){
						waitingDialog.show('Direcciones...');
						setTimeout(function() {
							obtenerDirecciones();
						}, 1000);
					}
					
					function  obtenerDirecciones(){
						var idCliente=getVariableSession('IDUSER');
						var params = {
						operations : [{
							operation : 'select',
							tableName : 'direcciones',
							columnNames : 'IdCliente,IdTienda,Alias,Telefono,Whatsapp,CP,Colonia,Entidad,Delegacion,Celular,Calle',
							where :  'IdCliente=' + idCliente
							}]
						};
						var myJSONText = JSON.stringify(params);
						var data = execAjax(myJSONText, "POST", "json", "phpControllers/dbController.php");
						if (data.length > 0) {
							$('#divDirecciones').html(''); //Limpiamos el div
							printDireccion('divDirecciones',data);
						}
					}
					function printDireccion(divTarget,data){
						var divDirecciones=$('#'+divTarget);
						for(var i=0; i< data.length;i++){
							direccion=
								'<div class="panel-heading">'+
									'<input type="radio" name="radDireccion" value="direccion_"'+i+'><a data-toggle="collapse" href="#'+data[i]['Alias']+'">'+data[i]['Alias']+'</a>'+
									'</div>'+
								'<div id="'+data[i]['Alias']+'" class="panel-collapse collapse">'+
								'<div>'+
								'<table style="width:100%"><tr><td class="td20"></td><td style="width:80%;text-align:right;padding-right:20px">'+
								'<a href="#"><img src="admin/images/edit.png" style="width:20px;height:20px"></a>'+
								'<a href="#"><img src="admin/images/delete.png" style="width:20px;height:20px"></a></td></tr></table>'+
								'</div>'+
									'<div class="panel-body bodyModal">'+
										'<table style="width:100%">'+
											'<tr><td class="td20">Alias:</td><td class="td80"><input type="text" class="form-control" value="'+data[i]['Alias']+'"></td></tr>'+
											'<tr><td class="td20">CP:</td><td class="td80">'+data[i]['CP']+'</td></tr>'+
											'<tr><td class="td20">Calle:</td><td class="td80">'+data[i]['Calle']+'</td></tr>'+
											'<tr><td class="td20">Colonia:</td><td class="td80">'+data[i]['Colonia']+'</td></tr>'+
											'<tr><td class="td20">Delegación/<br>Municipio:</td><td class="td80">'+data[i]['Delegacion']+'</td></tr>'+
											'<tr><td class="td20">Entidad:</td><td class="td80">'+data[i]['Entidad']+'</td></tr>'+											
										'</table>'+
									'</div>'+		
								'</div>';
							divDirecciones.append(direccion);
						}
					}
					function agregarNuevaDireccionBtn(){
						if (validateRequiredFields('aliasAdd,cpAdd,calleAdd,coloniaAdd,delegacionAdd,entidadAdd','alertDivDireccion')) {
							cleanAlertDiv('alertDivDireccion');
							waitingDialog.show('Agregando Dirección...');
							setTimeout(function() {
								agregarNuevaDireccion();
							}, 1000);
						}
					}
					function agregarNuevaDireccion(){
						var idCliente=getVariableSession('IDUSER');
						var params = {
							operation : 'agregarDireccion',
							tableNameDireccion  : 'direcciones' ,
							paramNamesDireccion : 'IdCliente,IdTienda,Alias,Telefono,Whatsapp,CP,Colonia,Entidad,Delegacion,Calle',
							valuesDireccion     : "("+idCliente+","+getIdTienda()+",'"+$('#aliasAdd').val()+"',"+obtenCamposDireccion('Add')+")"
						};
						var myJSONText = JSON.stringify(params);
						var data = execAjax(myJSONText, "POST", "json", "classControllers/ClientController.php");
						
						if(data["ESTATUS"]=="0"){
							var direccion=new Array();
							direccion[0]=[];
							direccion[0]["Alias"]=$("#aliasAdd").val();
							direccion[0]["CP"]=$("#cpAdd").val();
							direccion[0]["Calle"]=$("#calleAdd").val();
							direccion[0]["Colonia"]=$("#coloniaAdd").val();
							direccion[0]["Delegacion"]=$("#delegacionAdd").val();
							direccion[0]["Entidad"]=$("#entidadAdd").val();
							printDireccion('divDirecciones',direccion);
							clean('aliasAdd,cpAdd,calleAdd,coloniaAdd,delegacionAdd,entidadAdd');
						}
					}
					
					function guardarCompra(){
					
					}
					
					function cancelarCompra(){
						clean('aliasAdd,cpAdd,calleAdd,coloniaAdd,delegacionAdd,entidadAdd');
						simpleCart.empty();
					}
					
					function getProducts(idTienda) {
						var params = {
							oper : 'Principal',
							producto : [{
								operation : 'select',
								tableName : 'Productos p',
								columnNames : 'p.IdCategoria,p.IdProducto,p.Nombre,p.Precio,p.OfertaSN,p.Porcentaje',
								where : ' p.IdTienda=' + idTienda + ' AND p.IdProducto IN(Select IdProducto from Destacados)'
							}, {
								operation : 'select',
								tableName : 'Productos p',
								columnNames : 'p.IdCategoria,p.IdProducto,p.Nombre,p.Precio,p.OfertaSN,p.Porcentaje',
								where : 'p.IdTienda=' + idTienda + ' AND p.IdProducto IN(Select IdProducto from Ofertas)'
							}, {
								operation : 'select',
								tableName : 'Productos p',
								columnNames : 'p.IdCategoria,p.IdProducto,p.Nombre,p.Precio,p.OfertaSN,p.Porcentaje',
								where : 'p.IdTienda=' + idTienda + ' AND p.IdProducto IN(Select IdProducto from Nuevos)'
							}]
						};
						var myJSONText = JSON.stringify(params);
						var jsonS = execAjax(myJSONText, "POST", "json", "classControllers/ProductController.php");
						return jsonS;
					}				
			</script>
				<div class="sap_tabs">
					<div id="horizontalTab" style="display: block; width: 100%; margin: 0px;">
						<ul class="resp-tabs-list" id="categories" name="categories">
						</ul>
						<div class="resp-tabs-container" id="gallery" name="gallery">

						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- //product-nav -->

		<div class="coupons">
			<div class="container">
				<div class="coupons-grids text-center">
					<div class="col-md-3 coupons-gd">
						<h3>Para una mejor atención</h3>
					</div>
					<div class="col-md-3 coupons-gd">
						<span class="glyphicon glyphicon-search" aria-hidden="true"></span>
						<h4>Búscalo</h4>
						<p>
							Revisa nuestra variedad de productos
						</p>
					</div>
					<div class="col-md-3 coupons-gd">
						<span class="glyphicon glyphicon-hand-up" aria-hidden="true"></span>
						<h4>Selecciónalo</h4>
						<p>
							Ahora que sabes que producto te gusta, revisa el detalle
						</p>
					</div>
					<div class="col-md-3 coupons-gd">
						<span class="glyphicon glyphicon-envelope" aria-hidden="true"></span>
						<h4>Contáctanos</h4>
						<p>
							Mandanos un correo con la dudas del producto que te gusto
						</p>
					</div>
					<div class="clearfix"></div>
				</div>
			</div>
		</div>
		<!-- footer -->
		<div class="footer">
			<div class="container">
			<div class="col-md-3 footer-left">
					<!-- h2><a href="index.html"><img src="images/logo3.jpg" alt=" " /></a></h2> -->
					<p id="descripcion"></p>
				</div>
				<div class="col-md-9 footer-right">
					<div class="sign-grds">
						<div class="col-md-4 sign-gd">
							<h4>Información</h4>
							<ul>
								<li>
									<i class="glyphicon glyphicon-map-marker" aria-hidden="true"></i>
									Dirección : <div id="direccion"></div>
									<div id="colonia"></div><div id="delMun"></div>
									<div id="entidad"></div>
								</li>

							</ul>
						</div>

						<div class="col-md-4 sign-gd-two">
							<h4>Contacto:</h4>
							<ul>
								<li>
									<span class="glyphicon glyphicon-phone-alt" aria-hidden="true"></span>
									Telefono: <span id="telefono"></span>
								</li>
								<li>
									<span class="glyphicon glyphicon-phone" aria-hidden="true"></span>
									Celular: <span id="celular"></span>
								</li>
							</ul>
						</div>
						<div class="col-md-4 sign-gd">
							<h4>Dudas y Preguntas:</h4>
							<ul>
								<li>
									<span class="glyphicon glyphicon-envelope" aria-hidden="true"></span>
									Email : <span id="correo"></span>
								</li>
							</ul>
						</div>
						<div class="clearfix"></div>
					</div>
				</div>
				<div class="clearfix"></div>
				<p class="copy-right">
					&copy 2016 PYME SOLUTIONS. Todos los derechos reservados | <a href="http://pymesolutions.mx/">pymesolutions.mx</a>
				</p>
			</div>
		</div>
		<!-- //footer -->
		<!-- login -->
		<div class="modal fade" id="myModal4" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content modal-info">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body modal-spa">
						<div class="login-grids">
							<div class="login">
								<div class="login-bottom">
									<h3>Sign up for free</h3>
									<form>
										<div class="sign-up">
											<h4>Email :</h4>
											<input type="text" value="Type here" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Type here';}" required="">
										</div>
										<div class="sign-up">
											<h4>Password :</h4>
											<input type="password" value="Password" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Password';}" required="">

										</div>
										<div class="sign-up">
											<h4>Re-type Password :</h4>
											<input type="password" value="Password" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Password';}" required="">

										</div>
										<div class="sign-up">
											<input type="submit" value="REGISTER NOW" >
										</div>

									</form>
								</div>
								<div class="login-right">
									<h3>Sign in with your account</h3>
									<form>
										<div class="sign-in">
											<h4>Email :</h4>
											<input type="text" value="Type here" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Type here';}" required="">
										</div>
										<div class="sign-in">
											<h4>Password :</h4>
											<input type="password" value="Password" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Password';}" required="">
											<a href="#">Forgot password?</a>
										</div>
										<div class="single-bottom">
											<input type="checkbox"  id="brand" value="">
											<label for="brand"><span></span>Remember Me.</label>
										</div>
										<div class="sign-in">
											<input type="submit" value="SIGNIN" >
										</div>
									</form>
								</div>
								<div class="clearfix"></div>
							</div>
							<p>
								By logging in you agree to our <a href="#">Terms and Conditions</a> and <a href="#">Privacy Policy</a>
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- //login -->
	</body>
</html>